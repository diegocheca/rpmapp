"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[787,232],{77334:(e,a,n)=>{n.d(a,{Z:()=>o});const o={DOC:{value:[".doc",".docx","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],label:"doc"},AUDIO:{value:["audio/*"],label:"audio"},VIDEO:{value:["video/*"],label:"video"},IMAGE:{value:["image/jpeg","image/jpg"],label:"img"},PDF:{value:["application/pdf"],label:"pdf"}}},72232:(e,a,n)=>{n.r(a),n.d(a,{default:()=>t});var o=n(37572),r=n(19501);function l(e,a){for(var n=0;n<a.length;n++){var o=a[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var t=function(){function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.observations=this.getFormSchema(a)}var a,n,t;return a=e,(n=[{key:"getFormSchema",value:function(e){return console.log(e),"create"==e.action?{}:{name:"".concat(e.name,"_evaluacion"),value:e.schema["".concat(e.name,"_evaluacion")],options:[{label:"Si",value:"aprobado",type:o.Z.RADIO},{label:"No",value:"rechazado",type:o.Z.RADIO},{label:"Sin evaluar",value:"sin evaluar",type:o.Z.RADIO}],validations:"evaluate"==e.action?r.Z_().oneOf(["aprobado","rechazado","sin evaluar"],"Debes seleccionar una opción").required("Debes seleccionar una opción").nullable():null,comment:{label:"OBSERVACIÓN",value:e.schema["".concat(e.name,"_comentario")],type:o.Z.TEXTAREA,name:"".concat(e.name,"_comentario"),validationType:"string",validations:r.Z_().when("observacion_".concat(e.name),{is:"rechazado",then:r.Z_().min(5,"Debes ingresar al menos 5 caracteres").max(50,"Puedes ingresar hasta 50 caracteres").required("Debes agregar una observación")}).nullable()}}}}])&&l(a.prototype,n),t&&l(a,t),e}()},78787:(e,a,n)=>{n.r(a),n.d(a,{getFormSchema:()=>u});var o=n(19501),r=n(72232),l=n(37572);n(77334);function t(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?t(Object(n),!0).forEach((function(a){s(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function c(){return(c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function u(e,a,n){var t=c({},e);return[{widthResponsive:"lg:flex-row",body:[{title:"Datos de quien completa este formulario",width:"lg:w-full",columns:"grid-cols-1",columnsResponsive:"lg:grid-cols-3",inputs:[{label:"Nombre y apellido",value:t.nombre,type:l.Z.TEXT,name:"nombre",validations:o.Z_().required("Debes completar este campo").nullable(),observation:new r.default({schema:t,name:"nombre",evaluate:a}).observations},{label:"DNI",value:t.dni,type:l.Z.NUMBER,name:"dni",validations:o.Z_().required("Debes completar este campo"),observation:new r.default({schema:t,name:"dni",evaluate:a}).observations},{label:"Cargo en la empresa",value:t.cargo,type:l.Z.TEXT,name:"cargo",validations:o.Z_().required("Debes completar este campo"),observation:new r.default({schema:t,name:"cargo",evaluate:a}).observations}]}]},{widthResponsive:"lg:flex-row",body:[{title:"Mercado (indicar en que mercados vende su producción)",width:"lg:w-full",columns:"grid-cols-1",columnsResponsive:"",inputs:[{label:"Porcentaje vendido a Provincia",value:t.porcentaje_venta_provincia,type:l.Z.NUMBER,name:"porcentaje_venta_provincia",validations:o.Z_().required("Debes completar este campo"),observation:new r.default({schema:t,name:"porcentaje_venta_provincia",evaluate:a}).observations},{label:"Porcentaje vendido a otras Provincias",value:t.porcentaje_venta_otras_provincias,type:l.Z.NUMBER,name:"porcentaje_venta_otras_provincias",validations:o.Z_().required("Debes completar este campo"),observation:new r.default({schema:t,name:"porcentaje_venta_otras_provincias",evaluate:a}).observations},{label:"Porcentaje Exportado",value:t.porcentaje_exportado,type:l.Z.NUMBER,name:"porcentaje_exportado",validations:o.Z_().required("Debes completar este campo"),observation:new r.default({schema:t,name:"porcentaje_exportado",evaluate:a}).observations}]},{title:"Mercado (indicar en que mercados vende su producción)",width:"lg:w-full",columns:"grid-cols-1",columnsResponsive:"",inputs:[{label:"Prospección",value:!!t.prospeccion,type:l.Z.CHECKBOX,name:"prospeccion",observation:new r.default({schema:t,name:"prospeccion",evaluate:a}).observations},{label:"Explotación",value:!!t.explotacion,type:l.Z.CHECKBOX,name:"explotacion",observation:new r.default({schema:t,name:"explotacion",evaluate:a}).observations},{label:"Desarrollo",value:!!t.desarrollo,type:l.Z.CHECKBOX,name:"desarrollo",observation:new r.default({schema:t,name:"desarrollo",evaluate:a}).observations},{label:"Exploración",value:!!t.explotacion,type:l.Z.CHECKBOX,name:"exploracion",observation:new r.default({schema:t,name:"exploracion",evaluate:a}).observations}]}]},{widthResponsive:"flex-row",body:[{title:"Personal ocupado",width:"",columns:"grid-cols-1",columnsResponsive:"lg:grid-cols-3",img:"/images/laborales.png",inputs:[{label:"Profesional Técnico Permanente",value:t.personal_perm_profesional,type:l.Z.NUMBER,name:"personal_perm_profesional",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_perm_profesional",evaluate:a}).observations},{label:"Operarios y Obreros Permanente",value:t.personal_perm_operarios,type:l.Z.NUMBER,name:"personal_perm_operarios",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_perm_operarios",evaluate:a}).observations},{label:"Administrativo Permanente",value:t.personal_perm_administrativos,type:l.Z.NUMBER,name:"personal_perm_administrativos",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_perm_administrativos",evaluate:a}).observations},{label:"Otros Permanente",value:t.personal_perm_otros,type:l.Z.NUMBER,name:"personal_perm_otros",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_perm_otros",evaluate:a}).observations},{label:"Profesional Transitorio",value:t.personal_trans_profesional,type:l.Z.NUMBER,name:"personal_trans_profesional",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_trans_profesional",evaluate:a}).observations},{label:"Operarios y Obreros Transitorio",value:t.personal_trans_operarios,type:l.Z.NUMBER,name:"personal_trans_operarios",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_trans_operarios",evaluate:a}).observations},{label:"Administrativo Transitorio",value:t.personal_trans_administrativos,type:l.Z.NUMBER,name:"personal_trans_administrativos",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_trans_administrativos",evaluate:a}).observations},{label:"Otros Transitorio",value:t.personal_trans_otros,type:l.Z.NUMBER,name:"personal_trans_otros",validations:o.Z_().required("Debes ingresar una cantidad."),observation:new r.default({schema:t,name:"personal_trans_otros",evaluate:a}).observations}]}]},{widthResponsive:"flex-row",body:[{title:"Sustancias minerales que insuatralizan",width:"",img:"/images/laborales.png",inputs:[{label:"",type:l.Z.LIST,name:"Productos",columns:"grid-cols-1",columnsResponsive:"lg:grid-cols-3",childrens:p(t.productos),elements:[[{label:"Producto Extraído",value:{},type:l.Z.SELECT,colSpan:"",options:[{label:"Oro",value:"Oro"},{label:"Plata",value:"Plata"},{label:"Cobre",value:"Cobre"},{label:"Hierro",value:"Hierro"},{label:"Cal",value:"Cal"},{label:"Ripio",value:"Ripio"},{label:"Platino",value:"Platino"},{label:"Diamante",value:"Diamante"}],name:"nombre_mineral",multiple:!1,closeOnSelect:!0,searchable:!1,placeholder:"Selecciona una opción"},{label:"Variedad de",value:"",type:l.Z.TEXT,name:"variedad",colSpan:""},{label:"Producción",value:"",type:l.Z.NUMBER,name:"produccion",colSpan:""},{label:"Unidades",value:{},type:l.Z.SELECT,colSpan:"",options:[{label:"toneladas",value:"toneladas"},{label:"mts 3",value:"mts 3"},{label:"otros",value:"otros"}],name:"unidades",multiple:!1,closeOnSelect:!0,searchable:!1,placeholder:"Selecciona una opción"},{label:"Precio de Venta (en $)",value:"",type:l.Z.NUMBER,name:"precio_venta",colSpan:""},i({colSpan:"lg:w-5/5",type:"observation"},new r.default({schema:t,name:"row",evaluate:a}).observations)]],validations:o.IX().of(o.Ry().shape({variedad:o.Z_().nullable().required("Debes completar este campo"),nombre_mineral:o.Ry().when("mineral",{is:function(e){return _.isEmpty(e)},then:o.Ry().nullable().required("Debes elegir un elemento")}),produccion:o.Z_().nullable().required("Debes completar este campo"),unidades:o.Ry().when("unidadesSelect",{is:function(e){return _.isEmpty(e)},then:o.Ry().nullable().required("Debes elegir un elemento")}),precio_venta:o.Z_().nullable().required("Debes completar este campo"),row_evaluacion:a?o.Z_().oneOf(["aprobado","rechazado","sin evaluar"]).nullable().required("Debes seleccionar una opción"):{},row_comentario:a?o.Z_().when("observacion_row",{is:"rechazado",then:o.Z_().min(5,"Debes ingresar al menos 5 caracteres").max(50,"Puedes ingresar hasta 50 caracteres").nullable().required("Debes agregar una observación")}).nullable():{}})).strict()}]}]}]}function p(e,a){var n=[{id:null,name:"nombre_mineral",value:null,select:!0},{name:"variedad",value:null},{name:"produccion",value:null},{name:"unidades",value:null,select:!0},{name:"precio_venta",value:null},{name:"row_evaluacion",value:null,comment:null}];if(!e||0==e.length)return[n];for(var o=[],r=0;r<e.length;r++){var l=e[r],t=JSON.parse(JSON.stringify(n)),i=function(e){var a=t.findIndex((function(a){return a.name==e}));if(-1==a)return"continue";t[a].select?t[a].value=JSON.parse(l[e]):t[a].value=l[e],void 0!==t[a].id&&(t[a].id=l.id)};for(var s in l)i(s);o.push(t)}return o}}}]);