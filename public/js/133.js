"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[133,332],{77334:(e,a,n)=>{n.d(a,{Z:()=>r});const r={DOC:{value:[".doc",".docx","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],label:"doc"},AUDIO:{value:["audio/*"],label:"audio"},VIDEO:{value:["video/*"],label:"video"},IMAGE:{value:["image/jpeg","image/jpg"],label:"img"},PDF:{value:["application/pdf"],label:"pdf"}}},70332:(e,a,n)=>{n.r(a),n.d(a,{default:()=>t});var r=n(37572),o=n(19501);function i(e,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function e(a){!function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this,e),this.observations=this.getFormSchema(a)}var a,n,t;return a=e,(n=[{key:"getFormSchema",value:function(e){return e.evaluate?{name:"".concat(e.name,"_evaluacion"),value:e.revisionData?e.revisionData["".concat(e.name,"_evaluacion")]:"",options:[{label:"Si",value:"aprobado",type:r.Z.RADIO},{label:"No",value:"rechazado",type:r.Z.RADIO},{label:"Sin evaluar",value:"sin evaluar",type:r.Z.RADIO}],validations:o.Z_().oneOf(["aprobado","rechazado","sin evaluar"],"Debes seleccionar una opción").required("Debes seleccionar una opción"),comment:{label:"OBSERVACIÓN",value:e.revisionData?e.revisionData["".concat(e.name,"_comentario")]:"",type:r.Z.TEXTAREA,name:"".concat(e.name,"_comentario"),validationType:"string",validations:o.Z_().when("observacion_".concat(e.name),{is:"rechazado",then:o.Z_().min(5,"Debes ingresar al menos 5 caracteres").max(50,"Puedes ingresar hasta 50 caracteres").required("Debes agregar una observación")}).nullable()}}:{}}}])&&i(a.prototype,n),t&&i(a,t),e}()},10133:(e,a,n)=>{n.r(a),n.d(a,{getFormSchema:()=>c});var r=n(19501),o=n(70332),i=n(37572);n(77334);function t(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?t(Object(n),!0).forEach((function(a){s(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function u(){return(u=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,a,n){var t=u({},e);return[{widthResponsive:"lg:flex-row",body:[{title:"Datos de quien completa este formulario",width:"lg:w-full",columns:"grid-cols-1",columnsResponsive:"lg:grid-cols-3",inputs:[{label:"Nombre y apellido",value:t.nombre,type:i.Z.TEXT,name:"nombre",validations:r.Z_().required("Debes completar este campo").nullable(),observation:new o.default({schema:t,name:"nombre",evaluate:a,revisionData:n.revisionData}).observations}]}]},{widthResponsive:"flex-row",body:[{title:"Personal ocupado",width:"",columns:"grid-cols-1",columnsResponsive:"lg:grid-cols-3",img:"/images/laborales.png",inputs:[{label:"Profesional Técnico Permanente",value:t.personal_perm_profesional,type:i.Z.NUMBER,name:"personal_perm_profesional",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_perm_profesional",evaluate:a,revisionData:n.revisionData}).observations},{label:"Operarios y Obreros Permanente",value:t.personal_perm_operarios,type:i.Z.NUMBER,name:"personal_perm_operarios",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_perm_operarios",evaluate:a,revisionData:n.revisionData}).observations},{label:"Administrativo Permanente",value:t.personal_perm_administrativos,type:i.Z.NUMBER,name:"personal_perm_administrativos",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_perm_administrativos",evaluate:a,revisionData:n.revisionData}).observations},{label:"Otros Permanente",value:t.personal_perm_otros,type:i.Z.NUMBER,name:"personal_perm_otros",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_perm_otros",evaluate:a,revisionData:n.revisionData}).observations},{label:"Profesional Transitorio",value:t.personal_trans_profesional,type:i.Z.NUMBER,name:"personal_trans_profesional",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_trans_profesional",evaluate:a,revisionData:n.revisionData}).observations},{label:"Operarios y Obreros Transitorio",value:t.personal_trans_operarios,type:i.Z.NUMBER,name:"personal_trans_operarios",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_trans_operarios",evaluate:a,revisionData:n.revisionData}).observations},{label:"Administrativo Transitorio",value:t.personal_trans_administrativos,type:i.Z.NUMBER,name:"personal_trans_administrativos",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_trans_administrativos",evaluate:a,revisionData:n.revisionData}).observations},{label:"Otros Transitorio",value:t.personal_trans_otros,type:i.Z.NUMBER,name:"personal_trans_otros",validations:r.Z_().required("Debes ingresar una cantidad."),observation:new o.default({schema:t,name:"personal_trans_otros",evaluate:a,revisionData:n.revisionData}).observations}]}]},{widthResponsive:"flex-row",body:[{title:"Sustancias minerales que insuatralizan",width:"",img:"/images/laborales.png",inputs:[{label:"",type:i.Z.LIST,name:"Productos",columns:"grid-cols-1",columnsResponsive:"lg:grid-cols-3",childrens:v(t.productos,n.revisionData?n.revisionData.productos:[]),elements:[[{label:"Producto Extraído",value:{},type:i.Z.SELECT,colSpan:"",options:[{label:"toneladas",value:"toneladas"},{label:"mts 3",value:"mts 3"},{label:"otros",value:"otros"}],name:"nombre_mineral",multiple:!1,closeOnSelect:!0,searchable:!1,placeholder:"Selecciona una opción"},{label:"Variedad de",value:"",type:i.Z.TEXT,name:"variedad",colSpan:""},{label:"Producción",value:"",type:i.Z.NUMBER,name:"produccion",colSpan:""},{label:"Unidades",value:{},type:i.Z.SELECT,colSpan:"",options:[{label:"toneladas",value:"toneladas"},{label:"mts 3",value:"mts 3"},{label:"otros",value:"otros"}],name:"unidades",multiple:!1,closeOnSelect:!0,searchable:!1,placeholder:"Selecciona una opción"},{label:"Precio de Venta (en $)",value:"",type:i.Z.NUMBER,name:"precio_venta",colSpan:""},l({colSpan:"lg:w-5/5",type:"observation"},new o.default({schema:t,name:"row",evaluate:a,revisionData:n.revisionData}).observations)]],validations:r.IX().of(r.Ry().shape({variedad:r.Z_().nullable().required("Debes completar este campo"),nombre_mineral:r.Ry().when("mineral",{is:function(e){return _.isEmpty(e)},then:r.Ry().nullable().required("Debes elegir un elemento")}),produccion:r.Z_().nullable().required("Debes completar este campo"),unidades:r.Ry().when("unidadesSelect",{is:function(e){return _.isEmpty(e)},then:r.Ry().nullable().required("Debes elegir un elemento")}),precio_venta:r.Z_().nullable().required("Debes completar este campo"),row_evaluacion:a?r.Z_().oneOf(["aprobado","rechazado","sin evaluar"]).nullable().required("Debes seleccionar una opción"):{},row_comentario:a?r.Z_().when("observacion_row",{is:"rechazado",then:r.Z_().min(5,"Debes ingresar al menos 5 caracteres").max(50,"Puedes ingresar hasta 50 caracteres").nullable().required("Debes agregar una observación")}).nullable():{}})).strict()}]}]}]}function v(e,a){var n=[{id:null,name:"nombre_mineral",value:null,select:!0},{name:"variedad",value:null},{name:"produccion",value:null},{name:"unidades",value:null,select:!0},{name:"precio_venta",value:null},{name:"row_evaluacion",value:null,comment:null}];if(!e||0==e.length)return[n];for(var r=[],o=function(o){var i=e[o],t=JSON.parse(JSON.stringify(n)),l=function(e){var a=t.findIndex((function(a){return a.name==e}));if(-1==a)return"continue";t[a].select?t[a].value=JSON.parse(i[e]):t[a].value=i[e],void 0!==t[a].id&&(t[a].id=i.id)};for(var s in i)l(s);var u=t.find((function(e){return"row_evaluacion"==e.name}));if(u){var c=a.find((function(e){return e.id==t[0].id}));c&&(u.value=c.row_evaluacion,u.comment=c.row_comentario)}r.push(t)},i=0;i<e.length;i++)o(i);return r}}}]);